<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creator Dashboard | Brand Street</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body class="dashboard-root">

    <header class="dashboard-header">
        <h1>Creator Dashboard</h1>
        <p>Manage your portfolio and showcase your niche.</p>
    </header>

    <main class="container">
        <section class="upload-card">
            <h3>Add New Work</h3>
            <div class="form-group">
                <input type="text" id="name" placeholder="Creator Name">
                <select id="niche">
                    <option value="Fashion">Fashion</option>
                    <option value="Travel">Travel</option>
                    <option value="Tech">Tech</option>
                    <option value="Food">Food</option>
                </select>
                <input type="file" id="mediaFile" accept="image/*">
                <button class="btn-primary" onclick="handleUpload()">Publish to Gallery</button>
            </div>
        </section>

        <hr class="divider">

        <section class="gallery-header">
            <h2>Portfolio Gallery</h2>
            <div class="filter-wrapper">
                <label>Filter by Niche:</label>
                <select id="filterNiche" onchange="renderGallery()">
                    <option value="All">All Niches</option>
                    <option value="Fashion">Fashion</option>
                    <option value="Travel">Travel</option>
                    <option value="Tech">Tech</option>
                    <option value="Food">Food</option>
                </select>
            </div>
        </section>

        <div id="creatorMediaGallery" class="gallery-grid">
            </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>
    <script>
        // Local state to keep track of creators
        let creators = [];

        function handleUpload() {
            const name = document.getElementById('name').value;
            const niche = document.getElementById('niche').value;
            const fileInput = document.getElementById('mediaFile');
            
            if (!name || !fileInput.files[0]) {
                alert("Please fill in your name and select an image!");
                return;
            }

            // Create a local URL for the uploaded image
            const imageUrl = URL.createObjectURL(fileInput.files[0]);

            const newCreator = {
                id: Date.now(),
                name,
                niche,
                image: imageUrl
            };

            creators.push(newCreator);
            renderGallery();
            
            // Reset fields
            document.getElementById('name').value = '';
        }

        function renderGallery() {
            const gallery = document.getElementById('creatorMediaGallery');
            const filterValue = document.getElementById('filterNiche').value;
            
            gallery.innerHTML = '';

            const filtered = creators.filter(c => filterValue === 'All' || c.niche === filterValue);

            filtered.forEach(creator => {
                const card = document.createElement('div');
                card.className = 'creator-card';
                card.innerHTML = `
                    <a href="${creator.image}" class="glightbox">
                        <img src="${creator.image}" alt="${creator.name}">
                    </a>
                    <div class="card-content">
                        <h4>${creator.name}</h4>
                        <span class="badge">${creator.niche}</span>
                        <button class="btn-delete" onclick="deleteCreator(${creator.id})">Remove</button>
                    </div>
                `;
                gallery.appendChild(card);
            });

            // Re-initialize lightbox for new elements
            const lightbox = GLightbox({ selector: '.glightbox' });
        }

        function deleteCreator(id) {
            creators = creators.filter(c => c.id !== id);
            renderGallery();
        }
    </script>
</body>
</html>
